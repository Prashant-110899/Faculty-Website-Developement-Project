<!-- Header ejs -->
<%- include('./partials/header',{headerTitle:'JOURNALS'})%>

<br><br><br><br><br>


<%- include("./partials/notes/noteDetails"); %>

<br>

<div class="container">
  <div class="row">
    <%- include("./partials/searchBar",{searchId: 'search'}) %>
    <br>
    <%- include("./partials/dropdown",{title:'Sort By'}); %>
  </div>
</div>
<br>

<div class="container">
  <div id="all-posts-container">

    <% if(newItems) { %>

      <% newItems.forEach((item, i) => { %>
    
      <form class="posts-container item" action="/dashboard/journals/delete" method="post">
        <div>
          <div class="d-flex w-100 justify-content-between">
            <h4 draggable="true" class="mb-1 dragdiv-h5"><%= item.subject %></h4>
            <hr>
            <small class="dragdiv-id" style="display:none"><%= item._id %></small>
          </div>
        
          <div draggable="true" class="mb-1 dragdiv-p"><%- item.details %></div>
          <div class="d-flex justify-content-end">
            <button type="button" name="button" class="icon-btn edit-icon-btn" data-toggle="modal"><i class="fas fa-edit icons edit-icon"></i></button>
            <button type="submit" name="button" class="icon-btn del-icon-btn"><i class="fas fa-trash-alt icons del-icon"></i></button>
          </div>
        </div>
        <p id='timestamp' style="display: none;"><%= item.timeStamp%></p>
      </form>
    
      <% }); %>
      <% } else { %>
        <div class="container text-center">
          <h5>No notes to show. Enter subject and details to show up on the screen.</h5>
        </div>
      <% } %>

  </div>

     <!-- Modal -->
     <form class="item" action="/dashboard/journals/edit" method="post">
    
      <%- include("./partials/posts/edit"); %>
  
    </form>
  
    <br>
  

  <form class="item" action="/dashboard/journals" method="post">

    <%- include("./partials/posts/generic"); %>

  </form>
</div>

<hr>
